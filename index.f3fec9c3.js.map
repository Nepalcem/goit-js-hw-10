{"mappings":"AAAO,MCKDA,EAAiBC,SAASC,cAAc,iBACxCC,EAAcF,SAASC,cAAc,eACrCE,EAAcH,SAASC,cAAc,iBAuD3C,SAASG,IACPD,EAAYE,UAAY,GACxBN,EAAeM,UAAY,E,CAvD7BH,EAAYI,iBAAiB,SAE7B,SAAuBC,GACrB,MAAMC,EAAYD,EAAEE,cAAcC,MAAMC,OACxC,IAAKH,EAEH,YADAJ,KDd0BQ,ECiBbJ,EDhBRK,MAAM,uCAAuCD,KAAQE,MAAKC,IAC/D,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,KCarBL,MAAKM,IACAA,EAAWC,OAAS,GAAKD,EAAWC,QAAU,GAChDC,QAAQC,IAAIH,GA8BpB,SAAgCI,GAC9BpB,IACA,MAAMqB,EAASD,EACZE,KAAIC,IACH,MAAMC,MAAEA,EAAKhB,KAAEA,GAASe,EACxB,MAAO,kCAAkCC,EAAMC,uFACbjB,EAAKkB,qBAAqB,IAE7DC,KAAK,IACR5B,EAAY6B,mBAAmB,aAAcP,E,CAtCvCQ,CAAuBb,IACQ,IAAtBA,EAAWC,OAS5B,SAA2Ba,GACzB,MAAMN,MAAEA,EAAKhB,KAAEA,EAAIuB,QAAEA,EAAOC,WAAEA,EAAUC,UAAEA,GAAcH,EACxD9B,IACA,MAAMqB,EAAS,aACbG,EAAMC,8EAEqBjB,EAAKkB,2HAEmCQ,OAAOC,OACvEJ,6FAEsEC,0FACFE,OAAOC,OAC3EF,2BAGLtC,EAAeiC,mBAAmB,aAAcP,E,CAxB1Ce,CAAkBpB,EAAW,IAE7BE,QAAQC,IAAI,WAAW,IAG1BkB,OAAMC,GAASpB,QAAQC,IAAImB,KD5BF,IAAA9B,C","sources":["src/js-parts/api-requests.js","src/index.js"],"sourcesContent":["export const fetchCountries = name => {\n  return fetch(`https://restcountries.com/v3.1/name/${name}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import './css/styles.css';\nimport { fetchCountries } from './js-parts/api-requests';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst countryDetails = document.querySelector('.country-info');\nconst searchInput = document.querySelector('#search-box');\nconst countryList = document.querySelector('.country-list');\n\nsearchInput.addEventListener('input', onInputSearch);\n\nfunction onInputSearch(e) {\n  const inputText = e.currentTarget.value.trim();\n  if (!inputText) {\n    clearRenderField();\n    return;\n  }\n  fetchCountries(inputText)\n    .then(countryArr => {\n      if (countryArr.length > 1 && countryArr.length <= 5) {\n        console.log(countryArr);\n        renderSmallCountryList(countryArr);\n      } else if (countryArr.length === 1) {\n        countryCardRender(countryArr[0]);\n      } else {\n        console.log('too many');\n      }\n    })\n    .catch(error => console.log(error));\n}\n\nfunction countryCardRender(countryObj) {\n  const { flags, name, capital, population, languages } = countryObj;\n  clearRenderField();\n  const markup = `<img src=\"${\n    flags.png\n  }\" alt=\"\" class=\"country-flag\" width=\"50\">\n    <h1 class=\"country-name\">${name.official}</h1>\n     <div class=\"country-details\">\n     <p class=\"capital\">Capital:<span class=\"country-details__text\"> ${Object.values(\n       capital\n     )}</span></p>\n     <p class=\"population\">Population:<span class=\"country-details__text\"> ${population}</span></p>\n     <p class=\"languages\">Languages:<span class=\"country-details__text\"> ${Object.values(\n       languages\n     )}</span></p>\n   </div>`;\n  countryDetails.insertAdjacentHTML('afterbegin', markup);\n}\n\nfunction renderSmallCountryList(countriesArr) {\n  clearRenderField();\n  const markup = countriesArr\n    .map(country => {\n      const { flags, name } = country;\n      return `<div class=\"country\"><img src=\"${flags.png}\" alt=\"\" class=\"country-flag\" width=\"30\">\n      <h1 class=\"country-name listed\">${name.official}</h1></div>`;\n    })\n    .join('');\n  countryList.insertAdjacentHTML('afterbegin', markup);\n}\n\nfunction clearRenderField() {\n  countryList.innerHTML = '';\n  countryDetails.innerHTML = '';\n}\n"],"names":["$1f0dc3b9307be026$var$countryDetails","document","querySelector","$1f0dc3b9307be026$var$searchInput","$1f0dc3b9307be026$var$countryList","$1f0dc3b9307be026$var$clearRenderField","innerHTML","addEventListener","e","inputText","currentTarget","value","trim","name","fetch","then","response","ok","Error","status","json","countryArr","length","console","log","countriesArr","markup","map","country","flags","png","official","join","insertAdjacentHTML","$1f0dc3b9307be026$var$renderSmallCountryList","countryObj","capital","population","languages","Object","values","$1f0dc3b9307be026$var$countryCardRender","catch","error"],"version":3,"file":"index.f3fec9c3.js.map"}